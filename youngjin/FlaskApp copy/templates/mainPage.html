<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3x3 그리드 레이아웃</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<style>
  .map-container,
  .map-container iframe,
  .leaflet-container,
  .folium-map {
    height: 420px !important;
    min-height: 420px !important;
    max-height: 420px !important;
  }
</style>
<body>
    <div class="main-container">
        <!-- 1열 1행 - 그래프 2개 -->
        <div class="col1-row1">
            <div class="graph-container">
                <div class="graph-title">실시간 데이터</div>
                <canvas id="chart1"></canvas>
            </div>
            <div class="graph-container">
                <div class="graph-title">분석 차트</div>
                <canvas id="chart2"></canvas>
            </div>
        </div>

        <!-- 1열 2행 - 텍스트 출력 버튼 -->
        <div class="col1-row2">
            <div class="section-title">제어 센터</div>
            <button class="output-button" onclick="generateOutput()">텍스트 출력</button>
            <button class="output-button" onclick="clearText()" style="background: linear-gradient(45deg, #ff6b6b, #ee5a52);">초기화</button>
            <button class="output-button" onclick="addMarker()" style="background: linear-gradient(45deg, #2196F3, #1976D2);">지도 마커</button>
        </div>

        <!-- 1열 3행 - 텍스트 표시 -->
        <div class="col1-row3">
            <div class="section-title">출력 영역</div>
            <div class="text-display" id="textDisplay" style="height:340px">
                {% include 'dangerArea.html' %}
            </div>
        </div>

        <!-- 2열 중간 - 지도 -->
        <div class="col2-map">
            <div class="section-title">실시간 위치 지도</div>
            <div class="map-container" style="height: 420px">
                <iframe src="/obs_map" width="100%" height="420" style="border:none;"></iframe>
            </div>
        </div>

        <!-- 3열 상단 - 대시보드 -->
        <div class="col3-dashboard">
            <div class="section-title">시스템 대시보드</div>
            <div class="dashboard-content" style="height: 420px">
                <h4 style="margin-top: 20px; margin-bottom: 10px;">실시간 알림</h4>
                <div id="alertLog">
                    {% include 'dashboard.html' %}
                </div>
            </div>
        </div>
       
             <!-- 하단 그래프 3개 묶기 -->
            <div class="bottom-graphs">
            <!-- Wind Speed -->
            <div class="bottom-graph">
                <div class="section-title">Wind Speed</div>
                <div class="bottom-graph-content" id="windChartWrapper" style="width: 100%; max-width: 1200px; height: 350px;">
                <canvas id="windChart" style="width: 100%; height: 100%; max-height: none;"></canvas>
                </div>
            </div>

            <!-- Sea Speed -->
            <div class="bottom-graph">
                <div class="section-title">Sea Speed</div>
                <div class="bottom-graph-content" id="speedChartWrapper" style="width: 100%; max-width: 1200px; height: 350px;">
                <canvas id="speedChart" style="width: 100%; height: 100%; max-height: none;"></canvas>
                </div>
            </div>

            <!-- Sea High -->
            <div class="bottom-graph">
                <div class="section-title">Sea High</div>
                <div class="bottom-graph-content" id="highChartWrapper" style="width: 100%; max-width: 1200px; height: 350px;">
                <canvas id="highChart" style="width: 100%; height: 100%; max-height: none;"></canvas>
                </div>
            </div>
            </div>

            <!-- Chart.js & PapaParse는 한 번만! -->
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
            <script src="/static/js/real-time.js"></script>
        </div>
    </div>
</body>
</html>